<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="compiled.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-rc1/jquery.min.js"></script>
    
  </head>
  <body data-target="nav">
    <header>
      <nav>
        <ul id="main">
          <li><a href="#">Beacons</a></li>
          <li><a href="#">Destinations</a></li>
          <li><a href="#">Metrics</a></li>
          <li><a href="#">Help</a></li>
          <li><a href="#">Account</a></li>
          <li><a href="#">Apps</a></li>
        </ul>
      </nav>
    </header>
  </body>
</html>
<script>
  $(function(){
  			$('#main > li > a').click(function(){
  				$('#main > li').removeClass('selected');
  			$(this).closest('li').addClass('selected');
  		  });
  
  		});
  
  $(document).ready(function() {
  
  	var $el, leftPos,tabSelected,
  		$tabsNav = $("#main");
  
  	if ($tabsNav.length > 0) {
  		var width = $('#main').width();
  		$tabsNav.css('width', width + 'px');
  
  
  		if(!tabSelected) {
  			var tabSelected = $('#main li:first-child');
  			tabSelected.addClass('selected');
  		}
  		if($('#main li#line').length == 0) {
  			$tabsNav.append("<li id='line'></li>");
  		}
  
  		$("#main #line").css({
  			left: tabSelected.position().left,
  			width: tabSelected.width()
  		}).data("origLeft", $("#line").position().left);
     
  		$("ul#main li").hover(function () {
  			$el = $(this);
  			width = $el.width();
  			$("ul#main li#line").css("width", width);
  			leftPos = $el.position().left;
  			$("ul#main li#line").css("left", leftPos);
  
  		}, function () {
  			$("ul#main li#line").css({
  				left: $(".selected").position().left,
  				width: $(".selected").width()
  			});
  		});
  
  	}
  });
</script>